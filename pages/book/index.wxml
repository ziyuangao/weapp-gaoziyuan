<!-- pages/answer-book/index.wxml -->
<view class="answer-page">
  <!-- 标题 -->
  <view class="page-title">📖 答案之书</view>
  <view class="page-subtitle">向书提问，它会给你答案</view>

  <!-- 输入区域 -->
  <view class="input-section">
    <textarea 
      class="question-input" 
      placeholder="输入你的问题，例如：我今天会有好运吗？" 
      value="{{question}}"
      bindinput="onQuestionInput"
      maxlength="50"
      auto-height
    />
    <view class="input-counter">已输入 {{questionLength}}/50 字</view>
  </view>

  <!-- 操作按钮 -->
  <view 
    class="submit-btn" 
    bindtap="onAskQuestion"
    loading="{{isLoading}}"
    disabled="{{isLoading}}"
  >
    {{isLoading ? '书中寻找答案...' : '🔍 找答案'}}
  </view>

  <!-- 答案展示卡片 -->
  <view class="card" wx:if="{{showAnswer}}">
    <view class="card-header">
      <text class="card-title">答案之书告诉你：</text>
    </view>
    <view class="card-content">
      <view class="question-display">
        <text class="label">你的问题：</text>
        <text class="content">{{currentQuestion}}</text>
      </view>
      <view class="answer-display">
        <text class="label">书中答案：</text>
        <text class="content highlight">{{currentAnswer}}</text>
      </view>
    </view>
    <view class="card-footer">
      <text class="hint">✨ 答案仅供参考，愿你心想事成</text>
    </view>
  </view>

  <!-- 初始占位卡片 -->
  <view class="card placeholder-card" wx:if="{{!showAnswer}}">
    <view class="card-content">
      <text class="placeholder-text">在这里，你将看到答案之书的回应</text>
      <text class="placeholder-icon">📖</text>
    </view>
  </view>
</view>